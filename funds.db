{"_id":"_design/money","_rev":"62-8ed2bfddf872d8cca987541ea4940929","language":"javascript","views":{"users":{"map":"function(doc){\n  if(doc.username != null && doc.password != null){\n    emit(doc.username, doc)\n  }\n}"},"transactions":{"map":"function(doc){\n\tif(doc.amount != null && doc.timestamp != null){\n\t\temit(doc.timestamp, doc);\n\t}\n}"},"transactions_acct":{"map":"function(doc){\n  if(doc.owner != null && doc.name != null){\n\temit([doc._id, 8640000000000000, 0], doc);\n  }\n  if(doc.amount != null && doc.timestamp != null){\n\temit([doc.account, doc.timestamp, 1], doc);\n  }\n}"},"transactions_tags":{"map":"function(doc){if(doc.amount != null && doc.timestamp != null){for(var i=0; i<doc.tags.length; i++){emit([doc.timestamp, doc.tags[i]], doc);}}}"},"transaction_totals":{"map":"function(doc){\n  if(doc.amount != null && doc.timestamp != null){\n    emit([doc.account, new Date(doc.timestamp).getFullYear(),new Date(doc.timestamp).getMonth()] , doc.amount)\n  }\n}","reduce":"function(keys, values, rereduce) {return sum(values)}"},"accounts":{"map":"function(doc){\n  if( doc.username != null && doc.password != null ){\n    emit([doc._id, 0, doc.username], doc)\n  }\n  else if(doc.owner != null && doc.name != null){\n    emit([doc.owner, 1], doc)\n  }\n}"},"shared_accounts":{"map":"function(doc){\n  if(doc.owner != null && doc.name != null){\n    for(var i=0; i<doc.share.length; i++){\n\temit([doc.share[i], doc._id + \"a\"], doc);//{\"_id\":doc._id});\n\temit([doc.share[i], doc._id + \"b\"], {\"_id\":doc.owner});\n    }\n  }\n}"},"transactions_user":{"map":"function(doc){\n    if(doc.amount != null && doc.timestamp != null){\n        emit([doc.account,doc.timestamp, 1], doc);\n\temit([doc.account,doc.timestamp, 0], {\"_id\":doc.user});\n    }\n}"},"tag_percentage":{"map":"function(doc){\n  if(doc.amount != null && doc.amount < 0 && doc.timestamp != null){\n    for(var i=0; i<doc.tags.length; i++){\n    \temit([doc.account, \n              new Date(doc.timestamp).getFullYear(),\n              new Date(doc.timestamp).getMonth(),\n              doc.tags[i]], doc.amount*-1/doc.tags.length);\n    }\n  }\n}","reduce":"function(keys, values, rereduce) {\n  return sum(values)\n}"}}}
